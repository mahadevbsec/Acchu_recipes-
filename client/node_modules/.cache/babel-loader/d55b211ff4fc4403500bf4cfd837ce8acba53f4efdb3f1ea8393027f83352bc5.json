{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mahadeva G S\\\\Desktop\\\\Recipe_App\\\\client\\\\src\\\\Components\\\\Recipes.js\",\n  _s = $RefreshSig$();\n// src/components/Recipes.jsx\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport RecipeCard from \"./RecipeCard\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { buildUrl } from \"../utils/apiConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Recipes = () => {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const token = localStorage.getItem(\"token\");\n  const fetchRecipes = useCallback(async () => {\n    try {\n      const res = await fetch(buildUrl(\"/auth/recipe\"), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch recipes\");\n      }\n      const data = await res.json();\n      setRecipes(data);\n    } catch (err) {\n      console.error(\"Error fetching recipes:\", err);\n      toast.error(\"Could not load recipes.\");\n    }\n  }, [token]);\n  useEffect(() => {\n    fetchRecipes();\n  }, [fetchRecipes]);\n  const handleDelete = async id => {\n    if (!window.confirm(\"Delete this recipe?\")) return;\n    try {\n      const res = await fetch(buildUrl(`/auth/recipe/${id}`), {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        throw new Error(\"Failed to delete\");\n      }\n      toast.success(\"Recipe deleted\");\n      // remove from state\n      setRecipes(prev => prev.filter(r => r._id !== id));\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Error deleting recipe\");\n    }\n  };\n  const handleAddFavorite = async id => {\n    try {\n      const res = await fetch(buildUrl(`/auth/likedRecipes/${id}`), {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        const errData = await res.json();\n        throw new Error(errData.error || \"Failed to add favorite\");\n      }\n      toast.success(\"Added to favorites\");\n    } catch (err) {\n      console.error(err);\n      toast.error(err.message);\n    }\n  };\n  const handleSearchChange = async e => {\n    const key = e.target.value;\n    setSearchKey(key);\n    if (key.trim().length === 0) {\n      fetchRecipes();\n    } else {\n      try {\n        const res = await fetch(buildUrl(`/auth/searchRecipes/${key}`), {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) {\n          throw new Error(\"Search failed\");\n        }\n        const data = await res.json();\n        setRecipes(data);\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Search fetch error\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: '2.5rem',\n          fontWeight: '700',\n          color: '#2d3748',\n          background: 'linear-gradient(135deg, #ff9a9e 0%, #a8edea 50%, #fed6e3 100%)',\n          WebkitBackgroundClip: 'text',\n          WebkitTextFillColor: 'transparent',\n          backgroundClip: 'text',\n          marginBottom: '0.5rem'\n        },\n        children: \"Delicious Recipes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#718096',\n          fontSize: '1.1rem'\n        },\n        children: \"Discover and share amazing recipes from around the world\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search recipes by name, ingredients, or keywords...\",\n        value: searchKey,\n        onChange: handleSearchChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-list\",\n      children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n        recipe: recipe,\n        onDelete: handleDelete,\n        onAddFavorite: handleAddFavorite\n      }, recipe._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), recipes.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No recipes found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Try adjusting your search or add a new recipe!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Recipes, \"imLZ9U1t64febqRjCAdZM66muUk=\");\n_c = Recipes;\nexport default Recipes;\nvar _c;\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","RecipeCard","ToastContainer","toast","buildUrl","jsxDEV","_jsxDEV","Recipes","_s","recipes","setRecipes","searchKey","setSearchKey","token","localStorage","getItem","fetchRecipes","res","fetch","method","headers","Authorization","ok","Error","data","json","err","console","error","handleDelete","id","window","confirm","success","prev","filter","r","_id","handleAddFavorite","errData","message","handleSearchChange","e","key","target","value","trim","length","className","children","style","textAlign","marginBottom","fontSize","fontWeight","color","background","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","map","recipe","onDelete","onAddFavorite","_c","$RefreshReg$"],"sources":["C:/Users/Mahadeva G S/Desktop/Recipe_App/client/src/Components/Recipes.js"],"sourcesContent":["// src/components/Recipes.jsx\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport RecipeCard from \"./RecipeCard\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { buildUrl } from \"../utils/apiConfig\";\n\nconst Recipes = () => {\n  const [recipes, setRecipes] = useState([]);\n  const [searchKey, setSearchKey] = useState(\"\");\n\n  const token = localStorage.getItem(\"token\");\n\n  const fetchRecipes = useCallback(async () => {\n    try {\n      const res = await fetch(buildUrl(\"/auth/recipe\"), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch recipes\");\n      }\n      const data = await res.json();\n      setRecipes(data);\n    } catch (err) {\n      console.error(\"Error fetching recipes:\", err);\n      toast.error(\"Could not load recipes.\");\n    }\n  }, [token]);\n\n  useEffect(() => {\n    fetchRecipes();\n  }, [fetchRecipes]);\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Delete this recipe?\")) return;\n    try {\n      const res = await fetch(buildUrl(`/auth/recipe/${id}`), {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      if (!res.ok) {\n        throw new Error(\"Failed to delete\");\n      }\n      toast.success(\"Recipe deleted\");\n      // remove from state\n      setRecipes((prev) => prev.filter((r) => r._id !== id));\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Error deleting recipe\");\n    }\n  };\n\n  const handleAddFavorite = async (id) => {\n    try {\n      const res = await fetch(buildUrl(`/auth/likedRecipes/${id}`), {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      if (!res.ok) {\n        const errData = await res.json();\n        throw new Error(errData.error || \"Failed to add favorite\");\n      }\n      toast.success(\"Added to favorites\");\n    } catch (err) {\n      console.error(err);\n      toast.error(err.message);\n    }\n  };\n\n  const handleSearchChange = async (e) => {\n    const key = e.target.value;\n    setSearchKey(key);\n\n    if (key.trim().length === 0) {\n      fetchRecipes();\n    } else {\n      try {\n        const res = await fetch(buildUrl(`/auth/searchRecipes/${key}`), {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        if (!res.ok) {\n          throw new Error(\"Search failed\");\n        }\n        const data = await res.json();\n        setRecipes(data);\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Search fetch error\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"main-content\">\n      <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n        <h1 style={{ \n          fontSize: '2.5rem', \n          fontWeight: '700', \n          color: '#2d3748',\n          background: 'linear-gradient(135deg, #ff9a9e 0%, #a8edea 50%, #fed6e3 100%)',\n          WebkitBackgroundClip: 'text',\n          WebkitTextFillColor: 'transparent',\n          backgroundClip: 'text',\n          marginBottom: '0.5rem'\n        }}>\n          Delicious Recipes\n        </h1>\n        <p style={{ color: '#718096', fontSize: '1.1rem' }}>\n          Discover and share amazing recipes from around the world\n        </p>\n      </div>\n      \n      <div className=\"search-bar\">\n        <input\n          type=\"text\"\n          placeholder=\"Search recipes by name, ingredients, or keywords...\"\n          value={searchKey}\n          onChange={handleSearchChange}\n        />\n      </div>\n      \n      <div className=\"recipe-list\">\n        {recipes.map((recipe) => (\n          <RecipeCard\n            key={recipe._id}\n            recipe={recipe}\n            onDelete={handleDelete}\n            onAddFavorite={handleAddFavorite}\n          />\n        ))}\n      </div>\n      \n      {recipes.length === 0 && (\n        <div className=\"empty-state\">\n          <h3>No recipes found</h3>\n          <p>Try adjusting your search or add a new recipe!</p>\n        </div>\n      )}\n      \n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default Recipes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}